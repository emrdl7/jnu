"use strict";(function($){$.fn.upDown=function(options){if($.type(_)!="function")throw"require underscore";return this.each(function(){var self=this,$this=$(this),$parent=$($this.parent()),data=$this.data();var settings=$.extend({max:10,min:1,value:1,step:1,readonly:true,onChange:$.noop},options||{});if(!_.isUndefined($this.attr("min")))settings.min=parseInt($this.attr("min"));if(!_.isUndefined($this.attr("max")))settings.max=parseInt($this.attr("max"));if(_.has(data,"min"))settings.min=parseInt(data.min);if(_.has(data,"max"))settings.max=parseInt(data.max);if(_.has(data,"readonly"))settings.readonly=data.readonly;if($this.val()!="")settings.value=Math.max(parseInt($this.val()),settings.min);$this.val(settings.value);$this.data("settings",settings);$this.attr("min",settings.min);$this.attr("max",settings.max);var $group=$('<div class="input-group"></div>'),$minusContainer=$('<div class="input-group-prepend"></div>'),$minus=$('<button type="button" class="btn btn-secondary">-</button>'),$plusContainer=$('<div class="input-group-append"></div>'),$plus=$('<button type="button" class="btn btn-secondary">+</button>');$this.prop("readonly",settings.readonly).removeClass("text-right").addClass("text-center");$plus.on("click",function(){var curVal=parseInt($this.val()),nextVal=curVal+settings.step;if(nextVal<=settings.max)$this.val(nextVal);_.bind(settings.onChange,self,curVal,nextVal)();$this.trigger("change",[curVal,nextVal]);$this.trigger("plus",[curVal,nextVal])});$minus.on("click",function(){var curVal=parseInt($this.val()),nextVal=curVal-settings.step;if(nextVal>=settings.min)$this.val(nextVal);_.bind(settings.onChange,self,curVal,nextVal)();$this.trigger("change",[curVal,nextVal]);$this.trigger("minus",[curVal,nextVal])});$minusContainer.append($minus);$minusContainer.appendTo($group);$this.appendTo($group);$plusContainer.append($plus);$plusContainer.appendTo($group);$group.prependTo($parent);$this.trigger("init")})}})(jQuery);